# Sklep w aplikacji
Autor: **Dominik Betka**

Sklep w Let's Map to zaawansowany system wymiany przedmiotów między drużynami podczas wydarzeń. Umożliwia tworzenie ofert handlowych i wymianę przedmiotów z plecaka drużyny.

### Na co pozwala Sklep

Sklep to funkcjonalność pozwalająca na:
- **Wymianę przedmiotów** między drużynami uczestniczącymi w wydarzeniu
- **Tworzenie ofert handlowych** przez liderów drużyn i organizatorów
- **Handel przedmiotami z plecaka** zgodnie z zasadami wydarzenia

### Typy ofert

**Oferty organizatorów**
- Tworzone przez organizatorów wydarzenia
- Dostępne dla wszystkich drużyn
- Zazwyczaj oferują specjalne przedmioty za punkty lub osiągnięcia

**Oferty drużyn**
- Tworzone przez liderów drużyn
- Mogą być skierowane do konkretnych drużyn lub dostępne publicznie
- Pozwalają na wymianę przedmiotów

## Jak korzystać ze Sklepu

#### Przeglądanie ofert

**Wejście do Sklepu**
   - Otwórz wydarzenie
   - Przejdź do sekcji "Sklep" w menu głównym (rozwiń pełne menu)
   - Zobaczysz listę wszystkich dostępnych ofert dla Twojej drużyny

**Filtrowanie ofert**
   - Użyj funkcji wyszukiwania, aby znaleźć konkretne przedmioty
   - Filtruj oferty według dostępności czasowej
   - Wyświetlaj tylko oferty, które możesz zaakceptować (posiadasz wymagane przedmioty)
   - Wyświetlaj tylko oferty organizatorów, drużyn lub stworzone przez zalogowanego lidera drużyny

#### Akceptowanie ofert

**Sprawdzanie wymagań**
   - Upewnij się, że Twoja drużyna posiada wymagane przedmioty
   - Sprawdź, czy spełniacie warunki czasowe oferty
   - Zweryfikuj limity użycia oferty

**Przeprowadzenie wymiany**
   - Znajdź wybraną ofertę
   - Sprawdź szczegóły transakcji:
     - Co otrzymasz (przedmioty sprzedającego)
     - Co oddasz (przedmioty kupującego)
   - Potwierdź wymianę przyciskiem "Potwierdź transakcję"

**Potwierdzenie transakcji**
   - System automatycznie sprawdzi dostępność przedmiotów
   - Wymiana zostanie przeprowadzona natychmiastowo
   - Otrzymasz powiadomienie o pomyślnej transakcji

#### Tworzenie własnych ofert

> **Uwaga:** Tylko liderzy drużyn mogą tworzyć i zarządzać ofertami swojej drużyny.

**Dodawanie nowej oferty**
   - Przejdź do Sklepu w wydarzeniu
   - Kliknij "Dodaj nową ofertę"
   - Wypełnij formularz oferty:
     - **Nazwa oferty** - opisowa nazwa transakcji
     - **Opis oferty** - szczegóły dotyczące wymiany
     - **Oferta skierowana do** - wybierz, czy oferta jest publiczna czy dla konkretnej drużyny
     - **Przedmioty do wymiany** - co chcesz sprzedać i co chcesz otrzymać
     - 

**Ustawienia zaawansowane** (Dostępne tylko dla organizatorów i administratorów wydarzenia)
   - **Liczba możliwych transakcji** - ile razy oferta może być przyjęta
   - **Limit na drużynę** - ile razy jedna drużyna może skorzystać z oferty
   - **Widoczność czasowa** - kiedy oferta jest dostępna
   - **Warunki widoczności** - czy oferta wymaga posiadania określonych przedmiotów

**Zarządzanie ofertami**
   - Edytuj istniejące oferty w dowolnym momencie
   - Usuń oferty, które nie są już potrzebne
   - Monitoruj poziom zainteresowania ofertami (Dostępne tylko dla organizatorów i administratorów wydarzenia)

## Zaawansowane funkcje

#### Warunki widoczności ofert

Organizatorzy mogą tworzyć oferty o różnych poziomach widoczności:

- **Domyślna** - oferta zawsze widoczna
- **Czasowa** - widoczna tylko w określonych godzinach
- **Ukryta** - widoczna dopiero po zebraniu wymaganych przedmiotów
- **Czasowo ukryta** - kombinacja warunków czasowych i przedmiotowych

#### System powiadomień (tylko dla liderów drużyn)

- **Powiadomienia dla sprzedających** - informacja o przyjęciu oferty
- **Powiadomienia dla kupujących** - potwierdzenie udanej transakcji
- **Powiadomienia błędów** - informacje o nieudanych transakcjach

#### Zabezpieczenia transakcji

System Sklepu zapewnia:
- **Atomowość transakcji** - wymiana jest całkowita lub w ogóle nie następuje
- **Sprawdzanie dostępności** - weryfikacja posiadanych przedmiotów przed wymianą
- **Kontrola dostępu** - tylko uprawnione osoby mogą akceptować oferty
- **Zabezpieczenie przed wyścigiem** - ochrona przed jednoczesnym akceptowaniem tej samej oferty

## Najczęstsze problemy

### Nie można przyjąć oferty
- Sprawdź czy posiadasz wszystkie wymagane przedmioty
- Zweryfikuj czy oferta jest jeszcze dostępna (nie wyczerpano limitu)
- Upewnij się, że jesteś liderem zespołu (tylko oni mogą akceptować oferty)

### Oferta nie jest widoczna
- Sprawdź czy spełniasz warunki czasowe
- Zweryfikuj czy posiadasz wymagane przedmioty do odblokowania oferty
- Upewnij się, że oferta nie została usunięta przez organizatorów wydarzenia

### Błąd podczas transakcji
- Sprawdź połączenie internetowe
- Upewnij się, że nikt inny z drużyny nie przeprowadza jednocześnie transakcji
- Spróbuj ponownie za chwilę - może być to tymczasowy problem serwera

## Tips & Tricks

- **Planuj z wyprzedzeniem** - sprawdzaj oferty regularnie, popularne mogą szybko zniknąć
- **Komunikuj się z drużyną** - upewnij się, że wszyscy wiedzą o planowanych wymianach
- **Monitoruj zasoby** - śledź stan plecaka przed podejmowaniem decyzji o wymianie
- **Wykorzystuj oferty czasowe** - niektóre oferty mogą być dostępne tylko w określonych momentach wydarzenia
